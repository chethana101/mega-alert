!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?(module.exports=e.document?t(e,!0):function(e){if(!e.document)throw Error("Mega Alert requires a window with a document");return t(e)},module.exports=MegaAlert):t(e)}("undefined"!=typeof window?window:this,function(e,t){e.MegaAlert=function(e,t={}){let o={};if(o.options=t,null!=e)"string"==typeof e?document.body.contains(document.querySelector(e))&&(o.container=document.querySelector(e)):document.body.contains(e)&&(o.container=e);else throw Error("Directory binding element can not empty");function i(e){if(e?.theme){if("string"!=typeof e.theme)throw Error("`theme` value should be a string");if(!["dark","light","colored"].includes(e.theme))throw Error("`theme` value is undefined. Only can use `dark`, `light` and `colored`")}if(e?.position){if("string"!=typeof e.position)throw Error("`position` value should be a string");if(!["top-left","top-right","top-center","bottom-left","bottom-right","bottom-center"].includes(e.position))throw Error("`position` value is undefined")}if(e?.icon&&"boolean"!=typeof e.icon)throw Error("`icon` value should be a boolean");if(e?.closeIcon&&"boolean"!=typeof e.closeIcon)throw Error("`closeIcon` value should be a boolean");if(e?.title&&"string"!=typeof e.title)throw Error("`title` value should be a string");if(e?.paragraph&&"string"!=typeof e.paragraph)throw Error("`paragraph` value should be a string");if(e?.titleVisibility&&"boolean"!=typeof e.titleVisibility)throw Error("`titleVisibility` value should be a boolean");if(e?.paragraphVisibility&&"boolean"!=typeof e.paragraphVisibility)throw Error("`paragraphVisibility` value should be a boolean");if(e?.animation&&"boolean"!=typeof e.animation)throw Error("`animation` value should be a boolean");if(e?.createAnimation&&"boolean"!=typeof e.createAnimation)throw Error("`createAnimation` value should be a boolean");if(e?.closeAnimation&&"boolean"!=typeof e.closeAnimation)throw Error("`closeAnimation` value should be a boolean");if(e?.leftBorderColor&&"boolean"!=typeof e.leftBorderColor)throw Error("`leftBorderColor` value should be a boolean");if(e?.titleFontSize&&"string"!=typeof e.titleFontSize)throw Error("`titleFontSize` value should be a string");if(e?.paragraphFontSize&&"string"!=typeof e.paragraphFontSize)throw Error("`paragraphFontSize` value should be a string");if(e?.autoClose&&"number"!=typeof e.autoClose)throw Error("`autoClose` value should be a number");if(e?.iconElement&&"string"!=typeof e.iconElement)throw Error("`iconElement` value should be a string");if(e?.progressBar&&"boolean"!=typeof e.progressBar)throw Error("`progressBar` value should be a boolean");if(e?.closeOnBodyClick&&"boolean"!=typeof e.closeOnBodyClick)throw Error("`closeOnBodyClick` value should be a boolean")}function n(e,t={}){i(o.options),null!=t&&i(t),o.container.classList.add("mega-alert-container"),o.options?.position&&l(o.options.position);let n=document.createElement("div");n.classList.add("mega-alert"),o.options?.theme?function e(t,i){switch(o.options.theme){case"light":t.classList.add("mega-alert-light-theme"),t.classList.add(r(i,!1));break;case"dark":t.classList.add("mega-alert-dark-theme"),t.classList.add(r(i,!1));break;case"colored":t.classList.add("mega-alert-colored-theme"),t.classList.add(r(i,!0));break;default:t.classList.add("mega-alert-light-theme")}o.options?.leftBorderColor&&o.options.leftBorderColor&&("colored"===o.options.theme?t.classList.add(s(i,!0)):t.classList.add(s(i,!1)))}(n,e):n.classList.add("mega-alert-light-theme"),o.options?.animation&&o.options.animation&&n.classList.add(u("open"));let a=p(e);if(o.options?.icon&&!0===o.options.icon){let d=document.createElement("div");d.classList.add("mega-alert-icon",a.iconClass);let m=a.icon;d.appendChild(m),n.appendChild(d)}if(o.options?.closeOnBodyClick&&(n.style.cursor="pointer",n.onclick=function(){n.classList.add(u("close")),setTimeout(function(){n.remove()},500)}),t.alertComponent=n,n.appendChild(c(a,t)),o.options?.closeIcon&&!0===o.options.closeIcon){let _=document.createElement("div");if(_.classList.add("mega-alert-action"),(t?.paragraph||t?.buttons)&&(_.style.margin="0"),_.appendChild(function e(){let t=document.createElement("button");t.classList.add("mega-alert-close-button"),t.setAttribute("type","button"),t.setAttribute("aria-label","close");let o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("aria-hidden","true"),o.setAttribute("viewBox","0 0 14 16");let i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("fill-rule","evenodd"),i.setAttribute("d","M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"),o.appendChild(i),t.appendChild(o),t}()),_.onclick=function(){if(document.contains(_.closest(".mega-alert"))){let e=_.closest(".mega-alert");o.options?.animation&&o.options.animation?(e.classList.add(u("close")),setTimeout(function(){e.remove()},500)):e.remove()}},o.options?.autoClose){if(o.options?.progressBar){let h=document.createElement("div");h.classList.add("mega-alert-progress-bar"),n.appendChild(h),function e(t,o){o.style.width="100%",o.style.visibility="visible";let i=null;function n(e){i||(i=e);let a=e-i,r=Math.max(100-a/t*100,0);o.style.width=`${r}%`,r>0?requestAnimationFrame(n):o.style.visibility="hidden"}requestAnimationFrame(n)}(o.options.autoClose,h)}setTimeout(function(){o.options?.animation&&o.options.animation?(n.classList.add(u("close")),setTimeout(function(){n.remove()},500)):n.remove()},o.options.autoClose)}n.appendChild(_)}return n}function a(e={}){i(o.options),null!=e&&i(e),o.container.classList.add("mega-alert-container"),o.options?.position&&l(o.options.position);let t=document.createElement("div");t.classList.add("mega-alert"),o.options?.theme&&"dark"===o.options.theme?t.classList.add("mega-alert-dark-theme"):t.classList.add("mega-alert-light-theme"),o.options?.animation&&o.options.animation&&t.classList.add(u("open"));let n=p("loading");if(o.options?.icon&&!0===o.options.icon){let a=document.createElement("div");a.classList.add("mega-alert-icon");let r=document.createElement("div");r.classList.add(n.iconClass),a.appendChild(r),t.appendChild(a)}return t.appendChild(c(n,e)),t}function r(e,t){return"error"===e?t?"mega-alert-colored-theme-error":"mega-alert-theme-error":"warning"===e?t?"mega-alert-colored-theme-warning":"mega-alert-theme-warning":"info"===e?t?"mega-alert-colored-theme-info":"mega-alert-theme-info":"success"===e?t?"mega-alert-colored-theme-success":"mega-alert-theme-success":void 0}function s(e,t){return"error"===e?t?"mega-alert-colored-theme-error-border":"mega-alert-theme-error-border":"warning"===e?t?"mega-alert-colored-theme-warning-border":"mega-alert-theme-warning-border":"info"===e?t?"mega-alert-colored-theme-info-border":"mega-alert-theme-info-border":"success"===e?t?"mega-alert-colored-theme-success-border":"mega-alert-theme-success-border":void 0}function l(e){switch(e){case"top-right":default:o.container.classList.add("mega-alert-top-right");break;case"top-left":o.container.classList.add("mega-alert-top-left");break;case"top-center":o.container.classList.add("mega-alert-top-center");break;case"bottom-right":o.container.classList.add("mega-alert-bottom-right");break;case"bottom-left":o.container.classList.add("mega-alert-bottom-left");break;case"bottom-center":o.container.classList.add("mega-alert-bottom-center")}}function c(e,t){let i=document.createElement("div");if(i.classList.add("mega-alert-body"),t.hasOwnProperty("titleVisibility")&&t.titleVisibility||!t.hasOwnProperty("titleVisibility")){let n;n=null!=t&&t?.title?d(t.title):d(e.title),i.appendChild(n)}if((t.hasOwnProperty("paragraphVisibility")&&t.paragraphVisibility||!t.hasOwnProperty("paragraphVisibility"))&&null!=t&&t?.paragraph){let a=document.createElement("div");a.classList.add("mega-alert-spacer"),i.appendChild(a),i.appendChild(function e(t){let i=document.createElement("div");i.classList.add("mega-alert-paragraph-box");let n=document.createElement("p");return n.classList.add("mega-alert-paragraph"),o.options?.paragraphFontSize&&(n.style.fontSize=o.options.paragraphFontSize),n.textContent=t,i.appendChild(n),i}(t.paragraph))}if(t?.buttons&&t?.alertComponent){let r=document.createElement("div");r.style.marginTop="3px",t.buttons.forEach(e=>{let o=document.createElement("button");o.classList.add("mega-alert-default-button"),e?.buttonName?o.textContent=e.buttonName:o.textContent="Button",e?.onClick&&(o.onclick=()=>e.onClick(t.alertComponent)),r.append(o)}),i.append(r)}return i}function p(e){switch(e){case"error":default:return{iconClass:"mega-alert-icon-error",icon:function e(){if(o.options?.setCustomIcons&&o.options.setCustomIcons?.error&&""!=o.options.setCustomIcons.error){let t=o.options.setCustomIcons.error,i=m(t);return _(t,i)}let n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("viewBox","0 0 24 24"),n.setAttribute("width","100%"),n.setAttribute("height","100%");let a=document.createElementNS("http://www.w3.org/2000/svg","path");return a.setAttribute("d","M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"),n.appendChild(a),n}(),title:"Error"};case"warning":return{iconClass:"mega-alert-icon-warning",icon:function e(){if(o.options?.setCustomIcons&&o.options.setCustomIcons?.warning&&""!=o.options.setCustomIcons.warning){let t=o.options.setCustomIcons.warning,i=m(t);return _(t,i)}let n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("viewBox","0 0 24 24"),n.setAttribute("width","100%"),n.setAttribute("height","100%");let a=document.createElementNS("http://www.w3.org/2000/svg","path");return a.setAttribute("d","M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"),n.appendChild(a),n}(),title:"Warning"};case"info":return{iconClass:"mega-alert-icon-info",icon:function e(){if(o.options?.setCustomIcons&&o.options.setCustomIcons?.info&&""!=o.options.setCustomIcons.info){let t=o.options.setCustomIcons.info,i=m(t);return _(t,i)}let n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("viewBox","0 0 24 24"),n.setAttribute("width","100%"),n.setAttribute("height","100%");let a=document.createElementNS("http://www.w3.org/2000/svg","path");return a.setAttribute("d","M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"),n.appendChild(a),n}(),title:"Information"};case"success":return{iconClass:"mega-alert-icon-success",icon:function e(){if(o.options?.setCustomIcons&&o.options.setCustomIcons?.success&&""!=o.options.setCustomIcons.success){let t=o.options.setCustomIcons.success,i=m(t);return _(t,i)}let n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("viewBox","0 0 24 24"),n.setAttribute("width","100%"),n.setAttribute("height","100%");let a=document.createElementNS("http://www.w3.org/2000/svg","path");return a.setAttribute("d","M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"),n.appendChild(a),n}(),title:"Success"};case"loading":return{iconClass:"mega-alert-spinner",title:"Loading..."}}}function d(e){let t=document.createElement("div");t.classList.add("mega-alert-title-box");let i=document.createElement("div");return i.classList.add("mega-alert-title"),o.options?.titleFontSize&&(i.style.fontSize=o.options.titleFontSize),i.textContent=e,t.appendChild(i),t}o.error=function(e){let t=n("error",e);return o.container.append(t),t},o.warning=function(e){let t=n("warning",e);return o.container.append(t),t},o.info=function(e){let t=n("info",e);return o.container.append(t),t},o.success=function(e){let t=n("success",e);return o.container.append(t),t},o.loading=function(e){let t=a(e);return o.container.append(t),t},o.promise=function(e){e?.title||(e.title="Promise is pending...");let t=a(e);o.container.append(t);let i=e?.promiseResolvedTitle?e.promiseResolvedTitle:"Promise resolved",r=e?.promiseResolvedParagraph?e.promiseResolvedParagraph:null,s=e?.promiseRejectTitle?e.promiseRejectTitle:"Promise rejected",l=e?.promiseRejectParagraph?e.promiseRejectParagraph:null;return e.promise.then(e=>{o.container.replaceChild(n("success",{title:i,paragraph:r}),t)}).catch(e=>{o.container.replaceChild(n("error",{title:s,paragraph:l}),t)}),t},o.removeAlert=function(e){e.classList.add(u("close")),setTimeout(function(){e.remove()},500)},o.removeAllAlerts=function(){let e=o.container.querySelectorAll(".mega-alert");e.forEach(e=>{e.classList.add(u("close")),setTimeout(function(){e.remove()},500)})};function u(e){return["bottom-left","top-left"].includes(o.options.position)?"close"===e?"mega-alert-slide-left":"mega-alert-open-slide-left":["bottom-right","top-right"].includes(o.options.position)?"close"===e?"mega-alert-slide-right":"mega-alert-open-slide-right":["top-center"].includes(o.options.position)?"close"===e?"mega-alert-slide-top":"mega-alert-open-slide-top":["bottom-center"].includes(o.options.position)?"close"===e?"mega-alert-slide-bottom":"mega-alert-open-slide-bottom":"mega-alert-slide-left"}function m(e){switch(typeof e){case"string":if(/^(https?:\/\/)?[\w.-]+\.[a-zA-Z]{2,}(\/\S*)?$/.test(e))return"url";if(!(e.startsWith("<")&&e.endsWith(">")))return"string";try{let t=new DOMParser,o=t.parseFromString(e,"text/html"),i=o.body.firstChild instanceof Element;return i?"element":"string"}catch(n){return"string"}case"object":if(e instanceof Element)return"element";default:return"string"}}function _(e,t){if("string"===t){let i=o.options?.iconElement?o.options.iconElement:"span",n=document.createElement(i);return n.classList=e,n}if("url"===t){let a=document.createElement("img");return a.style.width="inherit",a.style.height="inherit",a.src=e,a}if("element"===t)return e}return o}});
